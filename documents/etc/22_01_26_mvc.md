# MVC Pattern

> 학습 목표
>
> 1.  MV\* 대해서 알아본다.

## MVC, MVP, MVVM 개념부터 알아보기

### MVC Pattern이란?

MVC 패턴은 대규모 어플리케이션을 구축할 때, 비즈니스 로직과 사용자 인터페이스를 분리해서 서로 영향 없이 어플리케이션을 만들도록 돕는 개발 철학(?)이다. Model, View, Controller로 나누어 모듈화 하여 어플리케이션을 만들어 유지 보수와 확장을 쉽게 할 수 있다.

1. Model은 어플리케이션의 데이터를 저장하는 곳이다.
   - Model은 Controller와 View에 의존하면 안된다. [[10분 테코톡] 🧀 제리의 MVC 패턴](https://youtu.be/ogaXW6KPc8I)에서 Model에 Controller와 View 코드가 있다는 것을 의존한다라고 설명한다.
2. View는 사용자에게 보여지는 부분을 뜻한다. 인터페이스, 레이어아웃 등이 여기에 속한다.
   - View는 Controller에 의존해선 안된다. View는 모델에만 의존해야한다.
   - View가 Model로 부터 데이터를 받을 때는 사용자마다 다르게 보여주어야한다.
3. Controller는 Model과 View의 중계 역할을 하는 곳으로 데이터를 처리하여 View에게 전달하거나 사용자로부터 입력된 상태를 Model로 전송하는 역할을 한다.
   - Controller는 Model과 View에 의존할 수 있다.
   - View가 Model의 데이터를 받을 때, 반드시 Controller로 부터 받아야한다.

#### 장점과 단점

1. 장점

대규모 어플리케이션을 만들 때 코드 가독성을 높여주고 기능별로 코드를 분리하여 작성하기 때문에 유지 보수 하기 유리하다.

2. 단점

어플리케이션이 거대해 질 수록 Model과 View의 의존성이 높아져서 두 모듈의 분리가 쉽지 않아진다. 장점이 단점이 되는데 결국 의존성이 높아지기 때문에 유지보수가 쉽지 않다.

### MVP

MVC에서 파생되었다. MVC패턴의 단점을 보완하기 위해서 생겨났다. Controller대신 Presenter가 존재한다.

Presenter는 View의 요청을 받아 Model에서 정보를 받아오고 가공하여 View에 전달한다.

### MVVM

## 질문들

MVC 패턴을 사용하여 어플리케이션을 만들었다. 하지만 어플리케이션을 개발하면서 여러가지 애매 모호해진 것들이 생겨났다.

1. 클라이언트에서 동작하는 자바스크립트의 정체는 무엇인가?

- 이건 View인가 Controller의 보조 수단인가 아니면 MVVM에서 말하는 View Model인가...

2. MVC 패턴을 올바르게 사용하고 있는게 맞을까?

   - Controller에서 입력을 받아 Model과 View의 중계 역할을 한다고 하는데 나의 어플리케이션을 보면 UI에서 입력을 받아 api Controller에서 사용자 입력을 Model에 요청하고 Model에서 데이터를 받아 다시 api Controller에서 View로 데이터를 전송한다. View에서 바로 데이터를 보여주지 않고 데이터 가공이 발생하고 사용자 UI에 변화가 일어난다. MVC 패턴이 아닌 것 같다.

3. View는 단순 HTML(pug)인가?

   - View가 단순하게 HTML이라고 볼 수 있나? client에서 javascript는 View인가? 아니면 다른 것인가?

내가 작성한 코드를 스스로 리뷰해보자면 Controller를 거칠 뿐이지 Controller에서 View와 Model의 중계 역할을 완벽하게 수행한다고 보기 어렵다.

```js
async function checkedDataBase(bool, node) {
  const value = node.value;
  const name = node.name;

  if (name === "email" || name === "userName") {
    const response = await fetch(`/api/checked-db/${name}=${value}`, {
      method: "GET",
    });

    const { exist } = await response.json();
    const checked = !exist;
    return paintMessage(checked, node, "exist");
  }

  return paintMessage(bool, node);
}
```

예를 들어 위의 코드는 회원가입 UI에서 사용자의 입력 값을 받아 사용자가 email과 user name을 사용할 수 있는지 여부를 검증하는 코드다. 만약 MVC 패턴이었다면 validation은 Controller에서 처리되서 View에 전달되어야 하는데 중간에 javascript에서 Controller에서 받아온 값을 한번 더 가공해서 View에 보여준다. 웹에서 보여주는 MVC 패턴을 보면 View는 Controller에 완전하게 의존하고 있는지 않다. 이것을 MVVM 패턴에서 흔히 말하는 View Model인지 알아야한다.

> 참조

> 📃 [MVC : MDN](https://developer.mozilla.org/ko/docs/Glossary/MVC)  
> 📃 [MVC 패턴 : bp.chys 블로그](https://velog.io/@ljinsk3/MVC-%ED%8C%A8%ED%84%B4)  
> 🎥 [MVC 웹 프레임워크가 뭔가요?](https://youtu.be/AERY1ZGoYc8)  
> 🎥 [[10분 테코톡] 🧀 제리의 MVC 패턴](https://youtu.be/ogaXW6KPc8I)
